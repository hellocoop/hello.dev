import { Callout } from 'nextra/components'

# MCP Server (BETA)

<img src="https://cdn.hello.coop/images/beta-label.png" alt="BETA" className="beta-label"/>

## Under Development

{/*

Add warning that Cursor may complain if using an MCP server and claude sonnet  

*/}

{/*
Model Context Protocol (MCP) server for creating and managing Hell≈ç applications directly from your AI assistant.

<Callout type="warning">
**üöß BETA Status**: This MCP server is currently in beta. We're actively seeking feedback and welcome contributions! Please report issues, suggest improvements, or submit pull requests to help us improve the developer experience.
</Callout>

## Overview

The Hell≈ç Admin MCP server provides programmatic access to the Hell≈ç Admin API, allowing you to create and manage your Hell≈ç applications without switching to the [Hell≈ç Console](https://console.hello.coop), streamlining your development workflow by integrating application management directly into your AI assistant.

**Note:** The MCP Server can only perform creation and management operations. To delete applications, you'll need to visit the [Hell≈ç Console](https://console.hello.coop).

## Authorization 

MCP Clients gain access to the APIs by requesting the `mcp` scope. The resulting access token is only valid for an hour, and no refresh token is provided. If the access token has expired, then a new authorization flow will be initiated. 

For clients using the `stdio` transport, the authorization flow is started by the local MCP server. For clients using the new `streamableHTTP` transport, the client will detect authorization is required and will start the authorization flow. 

## Installation

| Cursor | VS Code |
|--------|---------|
| [Install MCP Server](https://cursor.com/install-mcp?name=hello-admin&config=eyJ1cmwiOiJodHRwczovL21jcC5oZWxsby5jb29wIn0K) | [Install on VS Code](vscode:mcp/install?%7B%22name%22%3A%22Hell%C5%8D%20Admin%22%2C%22url%22%3A%22https%3A//mcp.hello-beta.net%22%2C%22type%22%3A%22http%22%7D) |

### VS Code Configuration

Add to your `.vscode/mcp.json` file in your workspace or global settings:

**HTTP Transport (Remote):**
```json
{
  "servers": {
    "hello-admin": {
      "type": "http",
      "url": "https://mcp.hello.coop"
    }
  }
}
```

**Stdio Transport (Local):**
```json
{
  "servers": {
    "hello-admin": {
      "type": "stdio", 
      "command": "npx",
      "args": ["-y", "@hellocoop/mcp@latest"]
    }
  }
}
```

LIST WHICH FILE IT IS FOR EACH AGENT

### Other MCP Clients

For other MCP clients, use these configurations:

**Stdio Transport (Local):**

```json
{
  "mcpServers": {
    "hello-admin": {
      "command": "npx",
      "args": ["-y", "@hellocoop/mcp@latest"]
    }
  }
}
```

**HTTP Transport (Remote):**
```json
{
  "mcpServers": {
    "hello-admin": {
      "url": "https://mcp.hello.coop",
      "type": "http"
    }
  }
}
```

## Available Tools

The MCP server provides these tools for managing your Hell≈ç applications:

### Profile & Publisher Management
- **`hello_get_profile`** - Get your developer profile and publishers
- **`hello_create_publisher`** - Create a new publisher (team/organization)
- **`hello_read_publisher`** - Read detailed publisher information
- **`hello_update_publisher`** - Update publisher settings

### Application Management
- **`hello_create_application`** - Create a new Hell≈ç application
- **`hello_read_application`** - Read detailed application information
- **`hello_update_application`** - Update application settings

### Logo & Branding
- **`hello_upload_logo`** - Upload application logos
- **`hello_upload_logo_file`** - Upload logo from file data
- **`hello_test_logo_url`** - Test if a logo URL is accessible
- **`hello_logo_guidance`** - Get guidance for creating theme-appropriate logos

### Integration & Legal
- **`hello_generate_login_button`** - Generate HTML/JavaScript login buttons
- **`hello_generate_legal_docs`** - Generate Terms of Service and Privacy Policy templates
- **`hello_create_secret`** - Create client secrets for applications

## Usage Examples

### Creating Your First Application

1. **Get your profile** to see existing publishers:
   ```
   Use the hello_get_profile tool
   ```

2. **Create a publisher** if you don't have one:
   ```
   Use hello_create_publisher with your team name
   ```

3. **Create an application**:
   ```
   Use hello_create_application with your publisher ID
   ```

4. **Generate login button** for your app:
   ```
   Use hello_generate_login_button with your application ID
   ```

### Setting Up Legal Documents

Before creating applications, you'll need Terms of Service and Privacy Policy URLs:

1. **Generate legal documents**:
   ```
   Use hello_generate_legal_docs with your business details
   ```

2. **Host the documents** on your website

3. **Use the URLs** when creating applications

### Managing Application Logos

1. **Get logo guidance**:
   ```
   Use hello_logo_guidance for design recommendations
   ```

2. **Upload your logo**:
   ```
   Use hello_upload_logo with an image URL
   Or hello_upload_logo_file with base64 image data
   ```

3. **Update application** with logo URL:
   ```
   Use hello_update_application to set the image_uri
   ```

## Environment Configuration

You can customize the MCP server behavior with these environment variables:

- **`HELLO_DOMAIN`** - Override the default domain (defaults to `hello.coop`)
- **`HELLO_ADMIN`** - Override the admin server URL (defaults to `https://admin.hello.coop`)

For development or testing with different environments, set these before running:

```bash
HELLO_DOMAIN=hello.coop npx @hellocoop/mcp
```

## Authentication

The MCP server uses OAuth 2.0 for secure authentication:

1. **OAuth Flow**: When you first use a tool requiring authentication, the server opens your browser
2. **Login**: Complete the login process with your Hell≈ç account
3. **Token**: The server receives a 1-hour access token
4. **API Calls**: All subsequent API calls use this token
5. **Refresh**: The server automatically handles token refresh when needed

## Troubleshooting

### Common Issues

**"Authentication required" errors:**
- The server will automatically prompt for login when needed
- Make sure you complete the browser-based OAuth flow

**"Invalid token" errors:**
- Tokens expire after 1 hour
- The server will automatically refresh expired tokens

**"Publisher not found" errors:**
- Use `hello_get_profile` to see your available publishers
- Create a publisher first with `hello_create_publisher`

**"Application not found" errors:**
- Use `hello_read_publisher` to see applications under a publisher
- Make sure you're using the correct publisher and application IDs

### Getting Help & Contributing

**We want your feedback!** This MCP server is in beta and we're actively improving it based on real-world usage.

- **üêõ Report Issues**: [GitHub Issues](https://github.com/hellocoop/mcp/issues) - Found a bug or have a feature request?
- **üîß Contribute**: [Submit Pull Requests](https://github.com/hellocoop/mcp/pulls) - Help us improve the server
- **üìñ Documentation**: [Full API documentation](https://console.hello.coop/documentation)
- **üí¨ Community**: [Join our Discord](https://discord.gg/hellocoop) - Get help and share feedback

## Advanced Usage

### Docker Deployment

For self-hosting the HTTP transport:

```bash
docker run -p 3000:3000 hellocoop/mcp:latest
```

### Development

For local development:

```bash
git clone https://github.com/hellocoop/mcp
cd mcp
npm install
npm start
```

### Testing

The MCP server includes comprehensive testing:

```bash
npm test                    # Run all tests
npm run test:oauth-interactive  # Test OAuth flow
npm run get-token          # Get access token for API testing
```

## Security

- **OAuth 2.0**: Industry-standard authentication
- **Short-lived tokens**: 1-hour token expiration
- **No stored credentials**: Tokens are not persisted locally
- **HTTPS only**: All API communication is encrypted
- **Scoped access**: Tokens only have necessary permissions

## Limitations

- **Read-only operations**: Cannot delete applications (use Console for deletion)
- **Single domain**: Each server instance works with one Hell≈ç domain
- **Token expiration**: Requires re-authentication after 1 hour of inactivity

---

For more information, visit the [Hell≈ç MCP Server repository](https://github.com/hellocoop/mcp).
*/}
